<!-- HTML !-->
<!DOCTYPE html>
<HTML>
<head>
  <link rel="stylesheet" href="style.css">
  <title>Tank Monitor</title>
  <style>

 


  
    </style></head>
</head>
<body>

    <h1 style="color: rgb(14, 67, 62);">Monitoring Storage Tank Level</h1>
  <h1 text-align= "center"> </h1>
  <p style="font-size: 120%;">This page shows the storage tanks in Ella and Manuel's Houses. 
    Click any of the tanks to display last 5 water levels.</p>





  <body>



<button class="button-1" role="button" name = "Tank" onclick= "updateByAJAX_tankdbData()"> Tank 1</button>
<div id=tankdbData ></div>

<button class="button-2" role="button" name = "Tank" onclick= "updateByAJAX_tankdbData()">Tank 2</button>
<div id=tankdbData ></div>


<br>
<br>
<!--
<button class="button-3" role="button" name="level2" onclick="updateByAJAX_level2()">level2</button>
<div id="level2"></div>

<button class="button-1" role="button" name="level2" onclick="updateByAJAX_CurrT2()">Click to show tank 2 current water level</button>
<div id="CurrT2"></div>
-->

<script type="text/javascript">

function updateByAJAX_tankdbData(){
      const xhttp=new XMLHttpRequest();
      xhttp.onload=function(){
        document.getElementById("tankdbData").innerText=this.responseText;
      }
      
      xhttp.open("GET", "http://localhost/IOTLab5/Retrievinglevel.php?");
      xhttp.send();
    }

</script>



//wei


<script type="text/javascript">

    function updateByAJAX_tankdbData(){
          const xhttp=new XMLHttpRequest();
          xhttp.onload=function(){
            document.getElementById("tankdbData").innerText=this.responseText;
          }
          
          xhttp.open("GET", "http://localhost/IOTLab5/Retrievinglevel.php?");
          xhttp.send();
        }
    
    function updateByAJAX_Current(){
          const xhttp=new XMLHttpRequest();
          xhttp.onload=function(){
            document.getElementById("Current").innerText=this.responseText;
          }
          
          xhttp.open("GET", "http://localhost/IOTLab5/getlastTank1.php?");
          xhttp.send();
    }
    
    function updateByAJAX_CurrT2(){
          const xhttp=new XMLHttpRequest();
          xhttp.onload=function(){
            document.getElementById("CurrT2").innerText=this.responseText;
          }
          
          xhttp.open("GET", "http://localhost/IOTLab5/getlastTank2.php?");
          xhttp.send();
    }
    
    function updateByAJAX_level2(){
        const xhttp=new XMLHttpRequest();
        xhttp.onload=function(){
            document.getElementById("level2").innerText=this.responseText;
          }
          
          xhttp.open("GET", "http://localhost/IOTLab5/Retrievinglevel2.php?");
          xhttp.send();
        }
    
    
    
        function sendData(butn)
    {
      var URL, variab, text;
      if(butn == 'Red LED')
      {
        URL = 'LEDRurl';
        variab = 'LEDR';
      }
    
      if(butn == 'manual')
    {
     URL = 'manualurl';
      variab = 'manualState';
        
     }
    
    
      if(butn == 'Red LED')


    { // change button class and text 
      var state = document.getElementById(butn).className;
      state = (state == 'btn on' ? 'btn off' : 'btn on');
      text = (state == 'btn on' ? butn + 'OFF' : butn + ' ON');
        document.getElementById(butn).className = state;
        document.getElementById(butn).innerHTML = 'Press to turn ' + text;
      }
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function(butn)
      {
        if (this.readyState == 4 && this.status == 200)
    
    //   xhr.onload = function(){
        document.getElementById(variab).innerHTML = this.responseText;
      };
      xhr.open('GET', URL, true);
      xhr.send();
    }
    
    </script>

</body>
</HTML>
